<div class="row panel-default ressource"
     ng-class="{'isopen': $ctrl.isOpen ,'empty-ressource':!$ctrl.currentRessource.hasAnyParametrages}">

  <div class="col-md-1 lev3-firstcol">
    <div class="arrow"
         ng-click="$ctrl.clickHeader()"
         ng-show="$ctrl.currentRessource.RessourcesEnfants.length>0"></div>
    <div class="empty-warning"
         ng-show="!$ctrl.currentRessource.hasAnyParametrages">
      <i class="material-icons" title="Attention, aucune ressource !">announcement</i>
    </div>
  </div>

  <div class="col-md-1 new">
    
    <span ng-show="!$ctrl.currentRessource.hasAnyParametrages">
    </span>
  </div>


  <div class="col-md-2">
    <div class="lb">{{$ctrl.resources.Code_lb}}</div>
    <span>{{$ctrl.currentRessource.Code}}</span>
  </div>
  <div class="col-md-3">
    <div class="lb">{{$ctrl.resources.Libelle_lb}}</div>
    <span class="field" title="{{$ctrl.currentRessource.Libelle}}">{{$ctrl.currentRessource.Libelle}}</span>
  </div>


  <div class="col-md-1 no_pad_r">
    <div class="lb">Unité</div>
    <span>{{$ctrl.currentRessource.unite.Code}}</span>
  </div>
  <div class="col-md-2 no_pad_r">
    <div class="lb">Prix</div>
    <span>{{$ctrl.currentRessource.montant}}</span>
    <span>{{$ctrl.currentRessource.symbole}}</span>
  </div>
  <div class="col-md-2 no_pad_l">
    <button class="btn btn-primary add_task pull-right"
            ng-click="$ctrl.clickAddToTask($ctrl.currentRessource)"
            title="{{$ctrl.currentRessource.OF_NewOF_AddRessourceToTache}}">
      <i class="flaticon flaticon-add"></i>
    </button>
  </div>
</div>


<div ng-show="$ctrl.currentRessource.RessourcesEnfants.length>0 && $ctrl.isOpen">
  <div class="row panel-default ressource child"      
       ng-repeat="childRessource in $ctrl.currentRessource.RessourcesEnfants track by $index">

    <div class="col-md-2">
      <div class="lb">{{$ctrl.resources.Code_lb}}</div>
      <span>{{childRessource.Code}}</span>
    </div>
    <div class="col-md-3">
      <div class="lb">{{$ctrl.resources.Libelle_lb}}</div>
      <span class="field" title="{{childRessource.Libelle}}">{{childRessource.Libelle}}</span>
    </div>


    <div class="col-md-1 no_pad_r">
      <div class="lb">Unité</div>
      <span>{{childRessource.unite.Code}}</span>
    </div>
    <div class="col-md-2 no_pad_r">
      <div class="lb">Prix</div>
      <span>{{childRessource.montant}}</span>
      <span>{{childRessource.symbole}}</span>
    </div>
    <div class="col-md-2 no_pad_l">
      <button class="btn btn-primary add_task pull-right"
              ng-click="$ctrl.clickAddToTask(childRessource)"
              title="Cliquer pour ajouter cette ressource à votre budget">
        <i class="flaticon flaticon-add"></i>
      </button>
    </div>
  </div>
</div>
