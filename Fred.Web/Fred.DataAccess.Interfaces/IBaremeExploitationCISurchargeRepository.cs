
using System;
using System.Collections.Generic;
using Fred.Entities.Bareme;

namespace Fred.DataAccess.Interfaces

{
    /// <summary>
    ///   Référentiel de données pour les surcharges et exceptions des barèmes exploitation CI.
    /// </summary>
    public interface IBaremeExploitationCISurchargeRepository : IRepository<SurchargeBaremeExploitationCIEnt>
    {
        /// <summary>
        /// Retourne la liste des surcharges et exceptions d'un barème exploitation CI en fonction d'une période et d'un CI.
        /// </summary>
        /// <param name="periode">Periode</param>
        /// <param name="ciId">Identifiant du CI</param>
        /// <returns>Liste des surcharges et exceptions du barème exploitation CI</returns>
        List<SurchargeBaremeExploitationCIEnt> GetSurchargeAndExceptionByPeriodeAndCIId(DateTime periode, int ciId);

        /// <summary>
        /// Retourne la surcharge en fonction des paramètres
        /// </summary>
        /// <param name="ciId">Identifiant du CI</param>
        /// <param name="date">Date</param>
        /// <param name="persoId">Identifiant du personnel</param>
        /// <param name="matosId">Identifiant du matériel</param>
        /// <returns>La surcharge</returns>
        SurchargeBaremeExploitationCIEnt GetSurcharge(int ciId, DateTime date, int? persoId, int? matosId);

        /// <summary>
        /// Retourne l'historique d'une surcharge ou d'une exception.
        /// </summary>
        /// <param name="ciId">L'identifiant du CI.</param>
        /// <param name="referentielEtenduId">L'identifiant du référentiel étendu.</param>
        /// <param name="personnelId">L'identifiant du personnel pour une ressource de type personnel, sinon null</param>
        /// <param name="materielId">L'identifiant du matériel pour une ressource de type matériel, sinon null</param>
        /// <returns>L'historique de la surcharge ou de l'exception.</returns>
        List<SurchargeBaremeExploitationCIEnt> GetHistorique(int ciId, int referentielEtenduId, int? personnelId, int? materielId);
    }
}
